package com.rental.app.entity;

import jakarta.persistence.*;
import jakarta.validation.constraints.*;

/**
 * Сущность, представляющая тип спортивного инвентаря.
 * <p>
 * Тип инвентаря определяет категорию и характеристики спортивного оборудования,
 * которое можно взять в аренду. Каждый тип инвентаря имеет уникальное название
 * и принадлежит к определённой категории.
 * </p>
 * <p>
 * <b>Категории инвентаря:</b> используются для группировки типов инвентаря
 * по видам спорта или назначению. Примеры: "Зимний спорт", "Летний спорт",
 * "Водный спорт", "Туристическое снаряжение".
 * </p>
 *
 * <p><strong>Пример использования:</strong></p>
 * <pre>
 * {@code
 * EquipmentType type = new EquipmentType();
 * type.setTypeName("Лыжи");
 * type.setCategory("Зимний спорт");
 * type.setDescription("Горные лыжи для взрослых");
 * }
 * </pre>
 *
 * @see AvailableEquipment
 * @see RentalPoint
 */
@Entity
@Table(name = "equipment_types")
public class EquipmentType {
    /**
     * Уникальный идентификатор типа инвентаря.
     * <p>
     * Генерируется автоматически базой данных при создании новой записи.
     * Не может быть null.
     * </p>
     */
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    /**
     * Название типа инвентаря.
     * <p>
     * Обязательное поле. Должно содержать от 1 до 100 символов.
     * Должно быть уникальным - не может быть двух одинаковых типов инвентаря.
     * Не может быть null.
     * <p>
     * Пример: "Лыжи", "Страховка".
     * </p>
     *
     * <p>Валидация выполняется автоматически через аннотации:
     * <ul>
     *     <li>{@link NotBlank} - строка не должна быть null, пустой или состоять только из пробелов</li>
     *     <li>{@link Size} - проверяет длину строки от 1 до 100 символов</li>
     *     <li>{@link Column#unique} - гарантирует уникальность значения в базе данных</li>
     * </ul>
     * </p>
     *
     * <p><b>Сообщения об ошибках валидации:</b>
     * <ul>
     *     <li>"Название типа инвентаря не может быть пустым."</li>
     *     <li>"Название типа инвентаря должно быть от 1 до 100 символов."</li>
     * </ul>
     * </p>
     */
    @NotBlank(message = "Название типа инвентаря не может быть пустым")
    @Size(min = 1, max = 100, message = "Название типа инвентаря должно быть от 1 до 100 символов")
    @Column(name = "type_name", nullable = false, unique = true)
    private String typeName;

    /**
     * Категория типа инвентаря.
     * <p>
     * Обязательное поле. Должно содержать от 1 до 50 символов.
     * Определяет принадлежность инвентаря к группе по виду спорта или назначению.
     * Не может быть null.
     * <p>
     * Пример: "Зимний спорт", "Летний спорт", "Водный спорт",
     * "Туристическое снаряжение", "Фитнес инвентарь".
     * </p>
     *
     * <p>В пользовательском интерфейсе предоставляется список
     * предопределённых категорий через элемент {@code <datalist>},
     * но пользователь может ввести и свою категорию.
     * </p>
     *
     * <p>Валидация выполняется автоматически через аннотации:
     * <ul>
     *     <li>{@link NotBlank} - строка не должна быть null, пустой или состоять только из пробелов</li>
     *     <li>{@link Size} - проверяет длину строки от 1 до 50 символов</li>
     * </ul>
     * </p>
     *
     * <p><b>Сообщения об ошибках валидации:</b>
     * <ul>
     *     <li>"Название категории инвентаря не может быть пустым."</li>
     *     <li>"Название категории инвентаря должно быть от 1 до 50 символов."</li>
     * </ul>
     * </p>
     */
    @NotBlank(message = "Название категории инвентаря не может быть пустым")
    @Size(min = 1, max = 50, message = "Название категории инвентаря должно быть от 1 до 50 символов")
    @Column(name = "category", nullable = false)
    private String category;

    /**
     * Описание типа инвентаря.
     * <p>
     * Необязательное поле. Может содержать до 500 символов.
     * Предназначено для описания характеристик, особенностей или условий использования инвентаря.
     * Хранится как тип {@code TEXT} в базе данных.
     * Может быть {@code null}, если описание не требуется.
     * <p>
     * Пример: "Горные лыжи для взрослых, длина 170 см, крепления регулируемые.",
     * "Страховочная система для альпинизма, выдерживает до 120 кг.".
     * </p>
     *
     * <p>Валидация выполняется автоматически через аннотации:
     * <ul>
     *     <li>{@link Size} - проверяет, что длина строки не превышает 500 символов</li>
     * </ul>
     * </p>
     *
     * <p><b>Сообщения об ошибках валидации:</b>
     * <ul>
     *     <li>"Описание типа инвентаря не должно превышать 500 символов."</li>
     * </ul>
     * </p>
     */

    @Size(max = 500, message = "Описание типа инвентаря не должно превышать 500 символов")
    @Column(columnDefinition = "TEXT")
    private String description;

    /**
     * Конструктор по умолчанию.
     * <p>
     * Требуется JPA для создания экземпляров сущности.
     * </p>
     */
    public EquipmentType() {
    }

    /**
     * Конструктор с параметрами.
     * <p>
     * Создает новый тип инвентаря с указанными значениями.
     * </p>
     *
     * @param typeName название типа инвентаря
     * @param category категория инвентаря
     * @param description описание инвентаря
     */
    public EquipmentType(String typeName, String category, String description) {
        this.typeName = typeName;
        this.category = category;
        this.description = description;
    }

    /**
     * Возвращает уникальный идентификатор типа инвентаря.
     *
     * @return идентификатор типа инвентаря
     */
    public Long getId() {
        return id;
    }

    /**
     * Устанавливает уникальный идентификатор типа инвентаря.
     * <p>
     * Обычно устанавливается автоматически базой данных.
     * </p>
     *
     * @param id новый идентификатор типа инвентаря
     */
    public void setId(Long id) {
        this.id = id;
    }

    /**
     * Возвращает название типа инвентаря.
     *
     * @return название типа инвентаря
     */
    public String getTypeName() {
        return typeName;
    }

    /**
     * Устанавливает название типа инвентаря.
     *
     * @param typeName новое название типа инвентаря
     */
    public void setTypeName(String typeName) {
        this.typeName = typeName;
    }

    /**
     * Возвращает категорию типа инвентаря.
     *
     * @return категория типа инвентаря
     */
    public String getCategory() {
        return category;
    }

    /**
     * Устанавливает категорию типа инвентаря.
     * <p>
     * В пользовательском интерфейсе для этого поля предоставляется
     * список предопределённых категорий, но можно ввести и свою.
     * </p>
     *
     * @param category новая категория инвентаря
     */
    public void setCategory(String category) {
        this.category = category;
    }

    /**
     * Возвращает описание типа инвентаря.
     *
     * @return описание типа инвентаря
     */
    public String getDescription() {
        return description;
    }

    /**
     * Устанавливает описание типа инвентаря.
     *
     * @param description новое описание инвентаря
     */
    public void setDescription(String description) {
        this.description = description;
    }

    /**
     * Возвращает строковое представление типа инвентаря.
     * <p>
     * <b>Формат:</b> EquipmentType{id=[id], typeName='[typeName]',
     * category='[category]', description='[description]'}
     * </p>
     *
     * @return строковое представление типа инвентаря
     */
    @Override
    public String toString() {
        return "EquipmentType{" +
                "id=" + id +
                ", typeName='" + typeName + '\'' +
                ", category='" + category + '\'' +
                ", description='" + description + '\'' +
                '}';
    }
}